<head>
<meta name="viewport" content="width=device-width height=device-height initial-scale=1.0
                               minimum-scale=1.0 maximum-scale=1.0 user-scalable=no"/>
<title>Thinking for ever</title>
<style typw="text/css">
  a:link{
    color:lightgreen;
  }
  a:visited{
    color:lightgray;
  }
</style>
<script>
function error(tips){
  return msg =>{
            tips.innerText=msg;
            return;
         };
}
function load_blog(){
let tips=document.getElementById("tips");
let blog_url=(new URL(document.location).searchParams).get("url");
if(blog_url==null){
  fetch("https://api.github.com/repos/alng-org/blog/contents/")
  .then(response => response.json(),error(tips))
  .then(blogs =>{
        tips.remove();
        for(let blog of blogs){
          if(blog.type=="dir"){
              document.body.innerHTML=document.body.innerHTML+
              `<a style="text-decoration:none;" href="?url=${blog.path}"><h3>${blog.name}</h3></a>`;
          }else{
              /*PASS*/
          }
        }
        return;
      },error(tips));
}else{
  fetch(`${blog_url}/blog`)
  .then(response => response.text(),error(tips))
  .then(src => {
          tips.remove();
          document.body.append(src); // Need to add more function
          return;
        },error(tips));
}
  return;
}
</script>
</head>
<body onload="load_blog()">
<h1>Welcome to my blog.</h1>
<h5 id="tips">Please wait for loading</h5>
</body>
